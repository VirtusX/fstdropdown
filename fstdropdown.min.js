function setFstDropdown(){var t=document.querySelectorAll(".fstdropdown-select:not(.fstcreated)");for(var e in t)t.hasOwnProperty(e)&&s(t[e]);function s(t){var e=t.dataset.searchdisable,s=d("div","fstdropdown",t.parentNode,{click:a,blur:a});s.select=t,s.setAttribute("tabindex","0");var r=d("div","fstselected",s,null),l=t.options[t.selectedIndex];(r.textContent=void 0!=l?l.text:"",null==e||"true"!=e)&&d("input","fstsearchinput",d("div","fstsearch",s,null),{keyup:o,paste:o,blur:a});d("div","fstlist",s,null),t.fstdropdown={dd:s,rebind:function(){n(t)}},n(t),t.classList.add("fstcreated")}function a(t,e){var s=t.target.classList.contains("fstdropdown")?t.target.select:t.target.closest(".fstdropdown").select;e=null==e?"blur"!=t.type:e;var a=s.fstdropdown.dd;if(!(null!=t.relatedTarget&&"INPUT"==t.relatedTarget.tagName||"INPUT"==t.target.tagName&&"blur"!=t.type||"INPUT"==t.target.tagName&&null!=t.relatedTarget&&"fstdropdown open"==t.relatedTarget.className||t.target.classList.contains("fstselected")&&"blur"==t.type&&document.activeElement.classList.contains("fstsearchinput")||"blur"==t.type&&"fstlist"==document.activeElement.className))if(e&&!a.classList.contains("open")){a.classList.add("open");var r=s.value;l("mouseover",null!=r?a.querySelector("[data-value='"+r+"']"):a.querySelector(".fstlist").firstChild)}else a.classList.remove("open")}function r(t){var e=t.target.closest(".fstdropdown").select;e.fstdropdown.dd.querySelector(".fstselected").textContent=t.target.dataset.text,e.value!=t.target.dataset.value&&(e.value=t.target.dataset.value,l("change",e)),a(t,!1)}function n(t){var e=t.fstdropdown.dd.querySelector(".fstsearchinput");null!=e&&(e.value="");for(var s=t.querySelectorAll("option"),a=t.fstdropdown.dd.querySelector(".fstlist");a.lastChild;)a.removeChild(a.lastChild);for(var n in s)if(s.hasOwnProperty(n)){var l=document.createElement("div");l.textContent=s[n].text,l.dataset.value=s[n].value,l.dataset.text=s[n].text,l.addEventListener("click",r),l.addEventListener("mouseover",function(t){var e=a.querySelector(".hover");null!=e&&e.classList.remove("hover"),t.target.classList.add("hover")}),a.appendChild(l)}null!=a.firstChild&&(t.fstdropdown.dd.querySelector(".fstselected").textContent=a.firstChild.textContent)}function l(t,e){var s;"function"==typeof Event?s=new Event(t,{bubbles:!0}):(s=document.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(s)}function o(t){var e="paste"!=t.type?"":void 0===t.clipboardData?window.clipboardData.getData("Text"):t.clipboardData.getData("text/plain"),s="paste"!=t.type?t.target.value:e,a=t.target.closest(".fstdropdown"),r=a.querySelectorAll(".fstlist>div"),n=!1,l=a.querySelector(".hover");null!=l&&l.classList.remove("hover");for(var o in r)r.hasOwnProperty(o)&&(-1!=r[o].textContent.toLowerCase().indexOf(s.toLowerCase())?(r[o].classList.remove("hideFst"),n||r[o].classList.add("hover"),n=!0):r[o].classList.add("hideFst"))}function d(t,e,s,a){var r=document.createElement(t);if(null!=e&&r.classList.add(e),null!=a)for(var n in a)a.hasOwnProperty(n)&&r.addEventListener(n,a[n],!0);return s.appendChild(r),r}}!function(t){t.matches=t.matches||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector,t.closest=t.closest||function(t){return this?this.matches(t)?this:this.parentElement?this.parentElement.closest(t):null:null}}(Element.prototype),document.addEventListener("DOMContentLoaded",setFstDropdown);
